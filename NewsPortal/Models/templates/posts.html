{%extends 'flatpages/default.html'%}

{%load custom_filters%}

{% block title %}
Posts
{% endblock title %}

{% block title2 %}
Новости/Статьи
{% endblock title2 %}


{% block content %}
<table>
<tbody>
{%for post in posts%}
<tr>
<td>{{post.header|censor}}&nbsp;</td>
<td>{{post.data_create|date:'d.m.Y'}}&nbsp;</td>
<td>{{post.preview|censor}}&nbsp;</td>
</tr>
{%endfor%}
</tbody>
</table>

{%if page_obj.has_previous%}
    <a href="?page=1">1</a>
    {% if page_obj.previous_page_number != 1 %}
        ...
        <a href="?page={{page_obj.previous_page_number}}">{{page_obj.previous_page_number}}</a>
    {%endif%}
{%endif%}
{{page_obj.number}}

{%if page_obj.has_next%}
    <a href="?page={{page_obj.next_page_number}}">{{page_obj.next_page_number}}</a>
    {%if page_obj.paginator.num_pages != page_obj.next_page_number%}
        <a href="?page={{page_obj.paginator.num_pages}}">{{page_obj.paginator.num_pages}}</a>
    {%endif%}
{%endif%}
{% endblock content %}